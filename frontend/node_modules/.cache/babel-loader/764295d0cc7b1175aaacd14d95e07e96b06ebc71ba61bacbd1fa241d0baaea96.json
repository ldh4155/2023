{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\2023TeamProject\\\\graduate\\\\frontend\\\\src\\\\components\\\\MessageModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { closeModal } from '../redux/Action/modalAction';\nimport Message from \"../page/message/Message\";\nimport MessageForm from \"../page/message/MessageForm\";\nimport styles from '../style/cssmodule/components/MessageModal.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageModal = () => {\n  _s();\n  const [isClick, setIsClick] = useState(true);\n  const [isDragging, setIsDragging] = useState(false);\n  const [position, setPosition] = useState({\n    x: 650,\n    y: -425\n  });\n  const [startPos, setStartPos] = useState({\n    x: 0,\n    y: 0\n  });\n  const isOpen = useSelector(state => state.modal.isModalOpen);\n  const dispatch = useDispatch();\n\n  // 드래그 시작 핸들러\n  const startDragging = e => {\n    setIsDragging(true);\n    setStartPos({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    });\n  };\n\n  // 드래그 종료 핸들러\n  const stopDragging = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n  useEffect(() => {\n    const onDragging = e => {\n      if (isDragging) {\n        setPosition({\n          x: e.clientX - startPos.x,\n          y: e.clientY - startPos.y\n        });\n      }\n    };\n    if (isDragging) {\n      window.addEventListener('mousemove', onDragging);\n      window.addEventListener('mouseup', stopDragging);\n    }\n    return () => {\n      window.removeEventListener('mousemove', onDragging);\n      window.removeEventListener('mouseup', stopDragging);\n    };\n  }, [isDragging, stopDragging, startPos.x, startPos.y]);\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.modalContainer,\n    onMouseDown: startDragging,\n    style: {\n      top: `calc(50% + ${position.y}px)`,\n      left: `calc(50% + ${position.x}px)`,\n      position: 'absolute'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.modalHeader,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsClick(true),\n        children: \"\\uBCF4\\uAD00\\uD568\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsClick(false),\n        children: \"\\uCABD\\uC9C0 \\uC791\\uC131\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this), isClick ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.messageContainer,\n      children: /*#__PURE__*/_jsxDEV(Message, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.messageForm,\n      children: /*#__PURE__*/_jsxDEV(MessageForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => dispatch(closeModal()),\n      className: styles.closeButton,\n      children: \"\\uB2EB\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 7\n  }, this);\n};\n_s(MessageModal, \"6duj3F9lMOj+ViadgQoObNcHRXA=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = MessageModal;\nexport default MessageModal;\nvar _c;\n$RefreshReg$(_c, \"MessageModal\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useDispatch","useSelector","closeModal","Message","MessageForm","styles","jsxDEV","_jsxDEV","MessageModal","_s","isClick","setIsClick","isDragging","setIsDragging","position","setPosition","x","y","startPos","setStartPos","isOpen","state","modal","isModalOpen","dispatch","startDragging","e","clientX","clientY","stopDragging","onDragging","window","addEventListener","removeEventListener","className","modalContainer","onMouseDown","style","top","left","children","modalHeader","onClick","fileName","_jsxFileName","lineNumber","columnNumber","messageContainer","messageForm","closeButton","_c","$RefreshReg$"],"sources":["C:/Users/user/2023TeamProject/graduate/frontend/src/components/MessageModal.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { closeModal } from '../redux/Action/modalAction';\r\nimport Message from \"../page/message/Message\";\r\nimport MessageForm from \"../page/message/MessageForm\";\r\nimport styles from '../style/cssmodule/components/MessageModal.module.css';\r\n\r\nconst MessageModal = () => {\r\n\r\n    const [isClick, setIsClick] = useState(true);\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [position, setPosition] = useState({ x: 650, y: -425 });\r\n    const [startPos, setStartPos] = useState({ x: 0, y: 0 });\r\n    const isOpen = useSelector(state => state.modal.isModalOpen);\r\n    const dispatch = useDispatch();\r\n\r\n    // 드래그 시작 핸들러\r\n    const startDragging = (e) => {\r\n        setIsDragging(true);\r\n        setStartPos({\r\n            x: e.clientX - position.x,\r\n            y: e.clientY - position.y,\r\n        });\r\n    };\r\n\r\n    // 드래그 종료 핸들러\r\n    const stopDragging = useCallback(() => {\r\n        setIsDragging(false);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const onDragging = (e) => {\r\n            if (isDragging) {\r\n                setPosition({\r\n                    x: e.clientX - startPos.x,\r\n                    y: e.clientY - startPos.y,\r\n                });\r\n            }\r\n        };\r\n\r\n        if (isDragging) {\r\n            window.addEventListener('mousemove', onDragging);\r\n            window.addEventListener('mouseup', stopDragging);\r\n        }\r\n\r\n        return () => {\r\n            window.removeEventListener('mousemove', onDragging);\r\n            window.removeEventListener('mouseup', stopDragging);\r\n        };\r\n    }, [isDragging, stopDragging, startPos.x, startPos.y]);\r\n\r\n    if (!isOpen) return null;\r\n\r\n  return (\r\n      <div\r\n          className={styles.modalContainer} onMouseDown={startDragging}\r\n          style={{ top: `calc(50% + ${position.y}px)`,\r\n              left: `calc(50% + ${position.x}px)`, position: 'absolute' }}>\r\n          <div className={styles.modalHeader}>\r\n              <button onClick={() => setIsClick(true)}>보관함</button>\r\n              <button onClick={() => setIsClick(false)}>쪽지 작성하기</button>\r\n          </div>\r\n          {isClick ? (\r\n              <div className={styles.messageContainer}>\r\n                  <Message/>\r\n              </div>\r\n          ) : (\r\n              <div className={styles.messageForm}>\r\n                  <MessageForm/>\r\n              </div>\r\n          )}\r\n          <button onClick={() => dispatch(closeModal())} className={styles.closeButton}>닫기</button>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default MessageModal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}